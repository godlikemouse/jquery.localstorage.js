/*
 * Copyright 2017 Jason Graves (GodLikeMouse/Collaboradev)
 * http://www.collaboradev.com
 *
 * This file is part of jquery.localstorage.js.
 *
 * The jquery.localstorage.js plugin is free software: you can redistribute it
 * and/or modify it under the terms of the GNU General Public
 * License as published by the Free Software Foundation, either
 * version 3 of the License, or (at your option) any later version.
 *
 * The jquery.localstorage.js plugin is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with the jquery.localstorage.js plugin. If not, see http://www.gnu.org/licenses/.
 *
 */

$.localStorage=function(t){t=$.extend(!0,{key:document.location.toString(),"default":function(){return{}},isValid:function(){return!0},stringify:function(t){if(JSON&&JSON.stringify)return JSON.stringify(t);var r=typeof t;if("object"!=r||null===t)return"string"==r&&(t='"'+t+'"'),String(t);var n,e,i=[],o=t&&t.constructor==Array;for(n in t)e=t[n],r=typeof e,t.hasOwnProperty(n)&&("string"==r?e='"'+e+'"':"object"==r&&null!==e&&(e=stringify(e)),i.push((o?"":'"'+n+'":')+String(e)));return(o?"[":"{")+String(i)+(o?"]":"}")},parseJSON:function(t){return"string"==typeof t?$.parseJSON(t):t}},t);var r=this;return r.reset=function(){return localStorage[t.key]=t.stringify(t["default"]())},r.set=function(r){r=t.stringify(r),localStorage[t.key]=r},r.get=function(){var n=localStorage[t.key];try{if(n=t.parseJSON(n),!n||!t.isValid(n))throw"Invalid Storage"}catch(e){n=r.reset(),n=t.parseJSON(n)}return n},r};
